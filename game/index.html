<!DOCTYPE html>
<html lang="pt-br">
    
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Jogo da Memoria</title>
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi">    
    <meta name="description" content=
    "A simple and small HTML5 and CSS3 memory game for kids. Using CSS3 transitions and transforms.">
      
    <link rel="icon" href="assts/ico/favicon.ico">
    
    <!--  CSS -->
    <link rel="stylesheet" href="assets/css/alertify.core.css">
    <link rel="stylesheet" href="assets/css/alertify.default.css">
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/game.css">
    <link rel="stylesheet" href="assets/css/card.css">
    <link rel="stylesheet" href="assets/css/button.css">
    <link rel="stylesheet" href="assets/css/progress.css">
  
  </head>
  
  <body>
    <header id="title" class="site-header">
      <h1 class="title">Jogo da Mem&oacute;ria</h1>    
    </header>
    <progress value="0" max="100" class="progress-bar">Carregando recursos</progress>
    <div class="button-container">
      <button id="newgame-button" class="button">Novo Jogo</button>
    </div>
    <footer class="footer">
      Desenvolvido por <a href="http://gustavocarvalho.eti.br" class="link">Gustavo Carvalho</a>
    </footer>
    
    <!-- Javascript-->      
    <script src="assets/js/memory-0.1.3.js" ></script>
    <script>
    (function (global, undefined) {
        "use strict";

        // "imports"
        var document = global.document;     
        var ImageManager = global.ImageManager;

        // resources
        var images = [{
                name : "burro",
                src : "assets/images/burro.jpg"
            }, {
                name : "cabra",
                src : "assets/images/cabra.jpg"
            }, {
                name : "cao",
                src : "assets/images/cao.jpg"
            }, {
                name : "carneiro",
                src : "assets/images/carneiro.jpg"
            }, {
                name : "cavalo",
                src : "assets/images/cavalo.jpg"
            }, {
                name : "cobra",
                src : "assets/images/cobra.jpg"
            }, {
                name : "coelho",
                src : "assets/images/coelho.jpg"
            }, {
                name : "galinha",
                src : "assets/images/galinha.jpg"
            }, {
                name : "gato",
                src : "assets/images/gato.jpg"
            }, {
                name : "lagarta",
                src : "assets/images/lagarta.jpg"
            }, {
                name : "macaco",
                tagName : "Macaco",
                src : "assets/images/macaco.jpg"
            }, {
                name : "porco",
                src : "assets/images/porco.jpg"
            }, {
                name : "rato",
                tagName : "Rato",
                src : "assets/images/rato.jpg"
            }, {
                name : "tigre",
                src : "assets/images/tigre.jpg"
            }, {
                name : "boi",
                src : "assets/images/boi.jpg"
            }, {
                name : "vacamalhada",
                src : "assets/images/vaca-malhada.jpg"
            }, {
                name : "fundo",
                src : "assets/images/fundo2.jpg"
            }, {
                name : "fundo2",
                src : "assets/images/fundo.jpg"
            }
        ];

        var progress = document.querySelector("progress"); // progress bar
        var button = document.querySelector("#newgame-button");

        
        function initGame() {
            global.location.href="game.html";
        }

        function openMainMenu() {            
            button.style.display = "inline-block";
            button.onclick = function (e) {
                initGame();
            }
        }

        function onProgress() {
            var p = ImageManager.getProgress();
            progress.value = p;
        }

        function onComplete() {
            if (ImageManager.hasFinished()) {        
                progress.style.display = "none";
                openMainMenu();
            }
        }

        // preload images
        ImageManager.load(images, onComplete, onProgress);
        
        // get at whatever the global object is, like window in browsers
    })((function () { return this }.call()));
    </script>
  </body>
  
</html>