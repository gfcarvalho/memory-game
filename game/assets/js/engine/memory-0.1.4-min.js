(function(d,e){var a=d.document,b;b=function(){var b={},h=!1,l=[],j,k,m,u,r,p,s,g,t,q,v,x;x=function(){var c,f,b=!1,g=a.createElement("fakeelement"),j={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(c in j)if(g.style[c]!==e){f=j[c];b=!0;break}return{type:f,supported:b}};j=function(c){return a.getElementById(c)};b={labels:{ok:"OK",cancel:"Cancel"},delay:5E3,buttonReverse:!1,buttonFocus:"ok",transition:e,addListeners:function(c){var f=
"undefined"!==typeof m,b="undefined"!==typeof k,g="undefined"!==typeof v,j="",e=this,d,l,q,h,n;d=function(f){"undefined"!==typeof f.preventDefault&&f.preventDefault();q(f);"undefined"!==typeof v&&(j=v.value);"function"===typeof c&&("undefined"!==typeof v?c(!0,j):c(!0));return!1};l=function(f){"undefined"!==typeof f.preventDefault&&f.preventDefault();q(f);"function"===typeof c&&c(!1);return!1};q=function(){e.hide();e.unbind(a.body,"keyup",h);e.unbind(u,"focus",n);f&&e.unbind(m,"click",d);b&&e.unbind(k,
"click",l)};h=function(c){var f=c.keyCode;(32===f&&!g||g&&13===f)&&d(c);27===f&&b&&l(c)};n=function(){g?v.focus():!b||e.buttonReverse?m.focus():k.focus()};this.bind(u,"focus",n);this.bind(r,"focus",n);f&&this.bind(m,"click",d);b&&this.bind(k,"click",l);this.bind(a.body,"keyup",h);this.transition.supported||this.setFocus()},bind:function(c,f,a){"function"===typeof c.addEventListener?c.addEventListener(f,a,!1):c.attachEvent&&c.attachEvent("on"+f,a)},handleErrors:function(){if("undefined"!==typeof d.onerror){var c=
this;d.onerror=function(f,a,b){c.error("["+f+" on line "+b+" of "+a+"]",0)};return!0}return!1},appendButtons:function(c,f){return this.buttonReverse?f+c:c+f},build:function(c){var f=c.type,a=c.message,e=c.cssClass||"";c='<div class="alertify-dialog"><a id="alertify-resetFocusBack" class="alertify-resetFocus" href="#">Reset Focus</a>';"none"===b.buttonFocus&&(c+='<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>');"prompt"===f&&(c+='<div id="alertify-form">');c+='<article class="alertify-inner">';
c+='<p class="alertify-message">{{message}}</p>'.replace("{{message}}",a);"prompt"===f&&(c+='<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>');c+='<nav class="alertify-buttons">{{buttons}}</nav>';c+="</article>";"prompt"===f&&(c+="</div>");c+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>';c+="</div>";switch(f){case "confirm":c=c.replace("{{buttons}}",this.appendButtons('<button class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</button>',
'<button class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>'));c=c.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case "prompt":c=c.replace("{{buttons}}",this.appendButtons('<button class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</button>','<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>'));c=c.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);
break;case "alert":c=c.replace("{{buttons}}",'<button class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>'),c=c.replace("{{ok}}",this.labels.ok)}t.className="alertify alertify-"+f+" "+e;g.className="alertify-cover";return c},close:function(c,f){var a=f&&!isNaN(f)?+f:this.delay,b=this,g,e;this.bind(c,"click",function(){g(c)});e=function(c){c.stopPropagation();b.unbind(this,b.transition.type,e);q.removeChild(this);q.hasChildNodes()||(q.className+=" alertify-logs-hidden")};g=
function(c){"undefined"!==typeof c&&c.parentNode===q&&(b.transition.supported?(b.bind(c,b.transition.type,e),c.className+=" alertify-log-hide"):(q.removeChild(c),q.hasChildNodes()||(q.className+=" alertify-logs-hidden")))};0!==f&&setTimeout(function(){g(c)},a)},dialog:function(c,f,b,e,j){s=a.activeElement;var d=function(){(!(q&&null!==q.scrollTop)||!(g&&null!==g.scrollTop))&&d()};if("string"!==typeof c)throw Error("message must be a string");if("string"!==typeof f)throw Error("type must be a string");
if("undefined"!==typeof b&&"function"!==typeof b)throw Error("fn must be a function");this.init();d();l.push({type:f,message:c,callback:b,placeholder:e,cssClass:j});h||this.setup();return this},extend:function(c){if("string"!==typeof c)throw Error("extend method must have exactly one paramter");return function(f,b){this.log(f,c,b);return this}},hide:function(){var c,f=this;l.splice(0,1);0<l.length?this.setup(!0):(h=!1,c=function(b){b.stopPropagation();f.unbind(t,f.transition.type,c)},this.transition.supported?
(this.bind(t,this.transition.type,c),t.className="alertify alertify-hide alertify-hidden"):t.className="alertify alertify-hide alertify-hidden alertify-isHidden",g.className="alertify-cover alertify-cover-hidden",s.focus())},init:function(){a.createElement("nav");a.createElement("article");a.createElement("section");null==j("alertify-cover")&&(g=a.createElement("div"),g.setAttribute("id","alertify-cover"),g.className="alertify-cover alertify-cover-hidden",a.body.appendChild(g));null==j("alertify")&&
(h=!1,l=[],t=a.createElement("section"),t.setAttribute("id","alertify"),t.className="alertify alertify-hidden",a.body.appendChild(t));null==j("alertify-logs")&&(q=a.createElement("section"),q.setAttribute("id","alertify-logs"),q.className="alertify-logs alertify-logs-hidden",a.body.appendChild(q));a.body.setAttribute("tabindex","0");this.transition=x()},log:function(c,f,b){var a=function(){q&&null!==q.scrollTop||a()};this.init();a();q.className="alertify-logs";this.notify(c,f,b);return this},notify:function(c,
b,e){var g=a.createElement("article");g.className="alertify-log"+("string"===typeof b&&""!==b?" alertify-log-"+b:"");g.innerHTML=c;q.appendChild(g);setTimeout(function(){g.className+=" alertify-log-show"},50);this.close(g,e)},set:function(c){var b;if("object"!==typeof c&&c instanceof Array)throw Error("args must be an object");for(b in c)c.hasOwnProperty(b)&&(this[b]=c[b])},setFocus:function(){v?(v.focus(),v.select()):p.focus()},setup:function(c){var a=l[0],g=this,d;h=!0;d=function(c){c.stopPropagation();
g.setFocus();g.unbind(t,g.transition.type,d)};this.transition.supported&&!c&&this.bind(t,this.transition.type,d);t.innerHTML=this.build(a);u=j("alertify-resetFocus");r=j("alertify-resetFocusBack");m=j("alertify-ok")||e;k=j("alertify-cancel")||e;p="cancel"===b.buttonFocus?k:"none"===b.buttonFocus?j("alertify-noneFocus"):m;v=j("alertify-text")||e;j("alertify-form");"string"===typeof a.placeholder&&""!==a.placeholder&&(v.value=a.placeholder);c&&this.setFocus();this.addListeners(a.callback)},unbind:function(c,
b,a){"function"===typeof c.removeEventListener?c.removeEventListener(b,a,!1):c.detachEvent&&c.detachEvent("on"+b,a)}};return{alert:function(c,a,g){b.dialog(c,"alert",a,"",g);return this},confirm:function(c,a,g){b.dialog(c,"confirm",a,"",g);return this},extend:b.extend,init:b.init,log:function(c,a,g){b.log(c,a,g);return this},prompt:function(c,a,g,e){b.dialog(c,"prompt",a,g,e);return this},success:function(c,a){b.log(c,"success",a);return this},error:function(c,a){b.log(c,"error",a);return this},set:function(c){b.set(c)},
labels:b.labels,debug:b.handleErrors}};"function"===typeof define?define([],function(){return new b}):"undefined"===typeof d.alertify&&(d.alertify=new b)})(this);
(function(d){var e,a=void 0,b=function(a){j.log("Ending load process:",a);p.hasOwnProperty(a)&&(p[a].clear(),p[a]=null,delete p[a],s-=1)},n=function(){function g(g){var k=null,r=null,y=l,z=l;if(g.name&&"string"===typeof g.name)k=g.name,m.hasOwnProperty(k)&&j.warn("Duplicated names found. Overwriting",k);else throw Error("Missing or invalid name property. Check your image(s) object(s)");if(g.src&&"string"===typeof g.src)r=g.src;else throw Error("Missing or invalid src property. Check your image(s) object(s)");
g.onload&&"function"===typeof g.onload&&(y=g.onload);g.onerror&&"function"===typeof g.onerror&&(z=g.onerror);h[k]=new Image;h[k].name=null;h[k].onload=function(){var g=k,l=y;n+=1;m[g]=h[g];u+=1;j.log(h[g].src,"  loaded");l.call(m[g]);s.call(a,e.getProgress());n===c?(p=!1,b(d),j.log("Load process",d,"done with no errors."),w.call(a,{code:1,errors:0})):n+f===c&&(p=!1,b(d),j.warn("Load process",d,"done with",f,"errors"),w.call(a,{code:0,errors:f}))};h[k].onerror=function(g){f+=1;z.call(this,g);n+f===
c&&(p=!1,w.call(a,{code:0,errors:f}),j.warn("Load process",d,"done with",f,"errors"),b(d))};h[k].src=r}var e=this,d="#"+k.generate(),h={},n=0,c=0,f=0,p=!1,s=l,w=l;this.getId=function(){return d};this.getProgress=function(){return 100*(n/c)};this.isLoading=function(){return p};this.clear=function(){for(var a in h)h.hasOwnProperty(a)&&(h[a]=null,delete h[a]);p=f=c=n=h=e=null};this.load=function(a,b,e){var f;if(!p){n=0;p=!0;j.log("Load process",d,"started.");try{if(s=e||l,w=b||l,a instanceof Array){c=
a.length;r+=c;for(f=0;f<c;f+=1)g(a[f])}else c+=1,r+=1,g(a)}catch(h){j.warn(h.message)}finally{}}return this}},h=function(){return 0===s},l=function(){},j,k,m,u,r,p,s;j=new function(a,b){var e=function(){};this.warn=this.log=this.info=this.error=e;if(!d.console||"undefined"===typeof d.console)return this;switch(b){case 0:return this.warn=this.log=this.info=this.error=e,this;case 1:return console.info("[JSDebugger]",a,"MODE: Logs and Info only"),this.error=e,this.info=console.info.bind(console,a),this.log=
console.log.bind(console,a),this.warn=e,this;case 2:return console.info("[JSDebugger]",a,"MODE: Errors only"),this.error=console.error.bind(console,a),this.warn=this.log=this.info=e,this;default:return console.info("[JSDebugger]",a,"MODE: Verbose"),this.error=console.error.bind(console,a),this.info=console.info.bind(console,a),this.log=console.log.bind(console,a),this.warn=console.warn.bind(console,a),this}}("[ImageManager]",0);k=new function(){var a=0;this.generate=function(){return a+=1}};m={};
r=u=0;p={};s=0;e={load:function(a,b,e){var d=new n;p[d.getId()]=d.load(a,b,e);s+=1},getProgress:function(){return 100*(u/r)},hasFinished:h,getImage:function(a){if(m.hasOwnProperty(a))return m[a]},cloneImage:function(a){var b=new Image;if(m.hasOwnProperty(a))return b.name=m[a].name,b.src=m[a].src,b},clear:function(){var a,b;if(h()){for(a in m)m.hasOwnProperty(a)&&(m[a]=null,delete m[a]);for(b in p)p.hasOwnProperty(b)&&(p[b].clear(),p[b]=null,delete p[b]);r=s=u=0;return!0}return!1},cache:m,remove:function(a){m.hasOwnProperty(a)&&
(m[a]=null,delete m[a]);u-=1;r-=1}};"function"===typeof define?define([],function(){return e}):"undefined"!==typeof module&&module.exports?module.exports=e:"undefined"===typeof d.ImageManager&&(d.ImageManager=e)})(function(){return this}());(function(d,e){d.game={mod:"development",version:"0.1.4",Board:e,Card:e,system:e,events:e,dom:e,ui:e,utils:e,debug:alertify.debug}})(function(){return this}.call());
(function(d,e){var a=d.document,b=d.game,n="createTouch"in a||"ontouchstart"in d||d.DocumentTouch&&a instanceof DocumentTouch,h="undefined"!==typeof d.localStorage,l="undefined"!==typeof a.createElement("canvas").getContext,j=a.createElement("audio"),n={touchSupported:n,localStorageSupported:h,canvasSupported:l,audioSupported:"undefined"!==typeof j.canPlayType,rafSupported:function(){var a=["ms","moz","webkit","o"];if(d.requestAnimationFrame)return!0;for(var b=0;b<a.length;++b)if(d[a[b]+"RequestAnimationFrame"])return!0;
return!1}(),getTransitionEvent:function(){var b,d,j=!1,h=a.createElement("fakeelement"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(b in l)if(h.style[b]!==e){d=l[b];j=!0;break}return{type:d,supported:j}}};b.system=n})(function(){return this}.call());
(function(d){var e={};d.game.events={dispatchEvent:function(a,b){for(var d=e[a],h=d?d.length:0;h--;)d[h].apply(this,b||[])},addEventListener:function(a,b){e[a]||(e[a]=[]);e[a].push(b);return[a,b]},removeEventListener:function(a,b){var d=e[b?a:a[0]];b=b||a[1];for(var h=d?d.length:0;h--;)d[h]===b&&d.splice(h,1)}}})(function(){return this}.call());
(function(d){var e=d.document;d=d.game;d.dom={removeChilds:function(a){for(var b;b=a.lastChild;)a.removeChild(b)}};d.ui={fullScreen:!1,toggleFullScreen:function(){var a=e.documentElement,b=a.requestFullScreen||a.webkitRequestFullScreen||a.mozRequestFullScreen||a.oRequestFullScreen||a.msRequestFullScreen;this.fullscreen?(e.webkitCancelFullScreen(),this.fullscreen=!1):(b.call(a),this.fullscreen=!0)},reset:function(){alertify.set({labels:{ok:"OK",cancel:"Cancel"},delay:2200,buttonReverse:!1,buttonFocus:"ok"})},
log:function(a,b){this.reset();alertify.set({delay:b||2200});alertify.log(a)},alert:function(a,b,d){this.reset();alertify.set({delay:d||2200});alertify.alert(a,b)}};d.utils={shuffle:function(a){for(var b=a.length,d,e;b--;)e=Math.random()*(b+1)|0,d=a[b],a[b]=a[e],a[e]=d;return a},remove:function(a,b,d){var e=1;"undefined"!==typeof d&&(e=d);a.splice(b,e)},removeObject:function(a,b){var d=a.indexOf(b,0);-1==d||a.splice(d,1)}}})(function(){return this}.call());
(function(d){function e(a,b,d){var e,l,j,k,m;e=document.createElement("div");e.className="card";e.name=a;l=document.createElement("div");l.className="flipper";m=document.createElement("div");m.className="animator";j=document.createElement("div");j.className="front";k=new Image;k.src=b;k.className="card-face";j.appendChild(k);b=document.createElement("div");b.className="back";k=new Image;k.src=d;k.className="card-face";b.appendChild(k);l.appendChild(j);l.appendChild(b);m.appendChild(l);e.appendChild(m);
this.node=e;this.name=a;this.done=this.hold=!1;return this}d=d.game;e.prototype.flip=function(){!this.hold&&!this.done&&this.node.classList.toggle("flip")};e.prototype.found=function(){this.done=!0;setTimeout(function(){this.node.classList.toggle("animate")}.bind(this),800)};e.prototype.block=function(){this.hold=!0};e.prototype.release=function(){this.hold=!1};d.Card=e})(function(){return this}.call());
(function(d){function e(d,e,k,h){this.container=d;this.board=a.createElement("table");this.backBoard=[];var n,r,p,s;this.board.className="game-board";if(k*h<e.length)throw Error("configuracoes invalidas");for(d=0;d<k;d++){this.backBoard[d]=[];r=this.board.insertRow(d);for(n=0;n<h;n++)this.backBoard[d][n]=s=e.pop(),p=r.insertCell(n),p.appendChild(s.node),b?p.addEventListener("touchstart",this.onClick,!1):p.addEventListener("mousedown",this.onClick,!1)}this.container.appendChild(this.board);return this}
var a=d.document;d=d.game;var b=d.system.touchSupported,n=d.events,h=d.dom;e.prototype.destroy=function(){h.removeChilds(this.container);this.backBoard=this.board=null};e.prototype.getTableElement=function(){return this.board};e.prototype.getBoard=function(){return this.backBoard};e.prototype.flipAllCards=function(a){var b,d;setTimeout(function(){for(b=0;b<this.backBoard.length;b++)for(d=0;d<this.backBoard[b].length;d++)this.backBoard[b][d].flip()}.bind(this),a)};e.prototype.fadeIn=function(){setTimeout(function(){this.board.classList.toggle("fadeIn")}.bind(this),
1)};e.prototype.getCardsByName=function(a){var b,d,e,h=[];for(b=0;b<this.backBoard.length;b++)for(d=0;d<this.backBoard[b].length;d++)if(e=this.backBoard[b][d],e.name===a)return h.push(e);return h};e.prototype.getCard=function(a){return this.backBoard[a.parentNode.rowIndex][a.cellIndex]};e.prototype.onClick=function(a){n.dispatchEvent("cellclick",[{event:a,cell:this,preventDefault:a.preventDefault.bind(a)}])};d.Board=e})(function(){return this}.call());
